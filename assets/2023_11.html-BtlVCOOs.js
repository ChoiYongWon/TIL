import{_ as o,e as a,g as n,h as s,o as t}from"./app-dbWqT-s3.js";const r={};function d(l,e){return t(),a("div",null,e[0]||(e[0]=[n('<h1 id="_2023-11" tabindex="-1"><a class="header-anchor" href="#_2023-11"><span>2023. 11.</span></a></h1><h2 id="_11-19" tabindex="-1"><a class="header-anchor" href="#_11-19"><span>11. 19.</span></a></h2><h3 id="도메인-설정을-위한-dns-이해하기" tabindex="-1"><a class="header-anchor" href="#도메인-설정을-위한-dns-이해하기"><span>도메인 설정을 위한 DNS 이해하기</span></a></h3><p><em>얼마 전, 개인블로그에 도메인을 연결하기 위해 가비아에서 rtolzo.dev 도메인을 구입하였다.</em></p><h4 id="왜-dev-도메인을-가비아에서" tabindex="-1"><a class="header-anchor" href="#왜-dev-도메인을-가비아에서"><span>왜 dev 도메인을 가비아에서..??</span></a></h4><p>이는 가비아는 최상위 도메인(TLD)인 dev NameServer(이하 NS)와 제휴관계를 맺고 있기에 가능하다.</p><h4 id="관리는-어디서-하는가" tabindex="-1"><a class="header-anchor" href="#관리는-어디서-하는가"><span>관리는 어디서 하는가??</span></a></h4><p>내가 가비아에서 <strong>rtolzo.dev</strong> 도메인을 구입하면 가비아는 dev NS에게 다음과 같은 요청을 보낸다.</p><blockquote><p><em>가비아 : rtolzo.dev도메인은 내가 관리할게! 너의 (dev NS) 레코드에 추가해줘!</em></p></blockquote><p>이 요청 이후 각 NS의 상태는 그림 1과 같다.</p><div class="img-container"><img alt="도메인 구입 후 각 NS의 상태" src="https://github.com/ChoiYongWon/Algorithm/assets/40623433/c693d846-9255-49ee-85de-822a4d3d4506"><span class="caption">그림 1. 도메인 구입 후 각 NS의 상태.</span></div><p>우리는 가비아에서 <strong>rtolzo.dev</strong> 도메인을 구입하면 해당 도메인에 대한 레코드는 가비아에서 관리할 수 있다. 그림 1에서 gabia NS의 <strong>rtolzo.dev</strong>에 대한 Record Table에 A 레코드로 IP가 매핑된것을 확인할 수 있다. 이 의미는 dev NS가 <strong>rtolzo.dev</strong> 라는 질의를 받았을 때</p><blockquote><p><em>dev NS : 나는 rtolzo.dev에 대한 IP주소를 모르니 ns.gabia.co.kr로 안내할게</em></p></blockquote><p>라고 하는것과 같다. 실제로 gabia NS에 <strong>rtolzo.dev</strong> 에 대한 실제 IP 주소가 저장되어있으니 우리는 반복적 질의과정을 통해서<br> Root NS - dev NS - gabia NS 순으로 질의를 하여 <strong>rtolzo.dev</strong>의 최종 IP 주소를 얻게 되는 것이다.</p><h4 id="가비아에서-구매한-도메인을-aws에서-관리하고-싶다면" tabindex="-1"><a class="header-anchor" href="#가비아에서-구매한-도메인을-aws에서-관리하고-싶다면"><span>가비아에서 구매한 도메인을 AWS에서 관리하고 싶다면??</span></a></h4><p>AWS도 가비아 처럼 NS가 존재하기에 (Route53) 우리는 Route53에서 <strong>rtolzo.dev</strong> 이라는 Zone(관리 구역)을 생성하면 해당 Zone에 대한 AWS NS 주소를 발급해준다. 우리는 가비아에서 도메인을 관리 할 수 있기에, dev NS가 <strong>rtolzo.dev</strong>에 대해 가르키고 있는 NS 주소를 바꿔줄 수 있다 (처음에는 gabia NS로 설정되어있다). 관리하고자 하는 NS를 가비아에서 AWS로 바꾸고자하면 이 주소를 Route53에서 발급받은 AWS NS로 바꿔주면 된다. 이 과정 이후의 반복적 질의는 Root NS - dev NS - AWS NS 순으로 진행되며 dev NS가 <strong>rtolzo.dev</strong> 에 대한 질의를 받았을 때<br>  <br><em>dev NS : 나는 rtolzo.dev에 대한 IP주소를 모르니 ns-71.awsdns-08.com으로 안내할게</em><br>  <br> 라고 하는것과 같다. (그림 2 참조)</p><div class="img-container"><img alt="가비아에서 AWS NS로 변경 후 상태" src="https://github.com/ChoiYongWon/Algorithm/assets/40623433/46fd16cc-c6da-464a-b7a4-fae35db70e5a"><span class="caption">그림 2. 가비아에서 AWS NS로 변경 후 상태.</span></div><p>추가로 AWS NS에서 <strong>rtolzo.dev</strong> 레코드에 새로운 til에 대한 A 레코드를 추가하였을 때<br><strong>til.rtolzo.dev</strong> 에 대한 질의 과정은 그림 3과 같다.</p><div class="img-container"><img alt="전체 DNS 동작 구조" src="https://github.com/ChoiYongWon/Algorithm/assets/40623433/7c067db9-13fc-4940-b2a0-5b78315c5bc0"><span class="caption">그림 3. 전체 DNS 동작 구조.</span></div><ol><li>단말기에서 ISP Resolver로 <strong>til.rtolzo.dev</strong>에 대한 질의를 한다. (ISP Resolver는 통신사에서 제공한다.)</li><li>ISP Resolver는 Root NS에게 질의를 한다.</li><li>Root NS는 <strong>til.rtolzo.dev</strong>에서 최상위 계층인 dev NS의 정보를 반환한다.</li><li>ISP Resolver는 Root NS의 응답을 바탕으로 다시 dev TLD Name Server에게 질의를 한다.</li><li>우리가 가비아에서 NS를 AWS로 설정하였기 때문에 dev TLD NS는 AWS NS 정보를 반환한다.</li><li>ISP Resolver는 dev NS의 응답을 바탕으로 다시 AWS NS에게 질의를 한다.</li><li>AWS NS는 저장되어있는 <strong>rtolzo.dev</strong> Zone 에 저장되어있는 레코드에서 서브 도메인인 til에 매핑되어있는 주소를 반환한다.</li><li>ISP는 위 과정을 통해 얻은 <strong>rtolzo.dev</strong>에 대한 IP 주소를 단말기에게 알려준다.</li></ol><h4 id="레퍼런스" tabindex="-1"><a class="header-anchor" href="#레퍼런스"><span>레퍼런스</span></a></h4><p>DNS 란 무엇입니까? - <a href="https://aws.amazon.com/ko/route53/what-is-dns/" target="_blank" rel="noopener noreferrer">https://aws.amazon.com/ko/route53/what-is-dns/</a><br> DNS 동작 원리 - <a href="https://www.cloudflare.com/ko-kr/learning/dns/what-is-dns/" target="_blank" rel="noopener noreferrer">https://www.cloudflare.com/ko-kr/learning/dns/what-is-dns/</a></p>',22),s("iframe",{src:"https://www.youtube.com/embed/sDXcLyrn6gU",class:"iframe",frameborder:"0",allowfullscreen:"true"},null,-1)]))}const c=o(r,[["render",d],["__file","2023_11.html.vue"]]),h=JSON.parse('{"path":"/archives/2023_11.html","title":"2023. 11.","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"11. 19.","slug":"_11-19","link":"#_11-19","children":[{"level":3,"title":"도메인 설정을 위한 DNS 이해하기","slug":"도메인-설정을-위한-dns-이해하기","link":"#도메인-설정을-위한-dns-이해하기","children":[]}]}],"git":{"updatedTime":1741537872000,"contributors":[{"name":"ChoiYongWon","username":"ChoiYongWon","email":"yongwon0824@naver.com","commits":9,"url":"https://github.com/ChoiYongWon"}],"changelog":[{"hash":"f6b57824696f693a7872ac6a4b760fdcb840cf71","date":1741537872000,"email":"yongwon0824@naver.com","author":"ChoiYongWon","message":"feat: 기존 글 archive로 이동 및 mermaid 추가"},{"hash":"eb1d80c4baa17ab5b35d2b6c09b3c080a4a1902a","date":1712598656000,"email":"yongwon0824@naver.com","author":"ChoiYongWon","message":"iframe 크기 수정"},{"hash":"b3bd702dc9d4579f2ccc29f7be7e8632c128420a","date":1712512941000,"email":"yongwon0824@naver.com","author":"ChoiYongWon","message":"04. 07."},{"hash":"2ab4812717b63b4d2cd1dfb28a66dc90e85d2287","date":1712366981000,"email":"yongwon0824@naver.com","author":"ChoiYongWon","message":"마크다운 수정"},{"hash":"d616661dc53a5aa31b569387b6f020c9f6a5fd04","date":1712364279000,"email":"yongwon0824@naver.com","author":"ChoiYongWon","message":"수정"},{"hash":"e58db650d3e2ba5fdcf32841c4729ef6dc5e53ee","date":1711448295000,"email":"yongwon0824@naver.com","author":"ChoiYongWon","message":"style 수정"},{"hash":"7c20881c18f64d98a208d02b70ec32db845368a0","date":1711419951000,"email":"yongwon0824@naver.com","author":"ChoiYongWon","message":"2023/11 수정 2"},{"hash":"6c34f6c9c62633f2b5114613c2da8977205ff7d6","date":1711419566000,"email":"yongwon0824@naver.com","author":"ChoiYongWon","message":"2023/11 수정"},{"hash":"b49e69193af4043989a2cc07299c44ae0e3e7733","date":1711419399000,"email":"yongwon0824@naver.com","author":"ChoiYongWon","message":"2023/11 추가"}]},"filePathRelative":"archives/2023_11.md"}');export{c as comp,h as data};
