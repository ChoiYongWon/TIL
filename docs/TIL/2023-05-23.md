# 2023-05-23

## Inter-Process Communication

### PIPEs

유닉스에서 IPC 통신을 제공해주는 가장 기초적이고 오래된 방식  
시스템 콜을 이용해 커널에 메세지 패싱 통로를 만듬
근데 이 통로에 이름이 존재하지 않기에 두가지 pipe로 (`pipe`, `fifo`)나뉜다.
단방향 통신만 가능하기 때문에 수신자 역할, 송신자 역할을 나눠줘야됨.

**pipe (이름이 없는 통로)**

- parents에서 fork로 child를 만들고 부모와 자식간 통신만 가능
- Half Duflex (단방향 통신만 지원)

```c
#include <unishd.h>

//return : 0 if OK, -1 on error
int pipe(int fd[2]);

/*
fd[0] = READ
fd[1] = WRITE
*/
```

```c
#include <unishd.h>

read(fd[0], buf, 256);
/*
fd[0] = READ PIPE
pipe에 값이 들어올 때 까지 기다림. 동기화 문제가 없음
*/
```

**fifo (이름이 있는 통로)**

- 서로 다른 프로세스끼리 통신 가능
- Full Duflex (양방향 통신 지원. 단, 일반적으로 Half로 많이 씀)
- 하나의 파일로 통신하는 과정

```c
#include <sys/types.h>
#include <sys/stat.h>
int mkfifo (char * pathname, mode_t mode);
/* fifo라는 파일이 생성된다 */

```

### Shared Memory

- 빠르다
- 동기화 문제를 해결해야됨 (하나의 메모리를 공유하기에 에러가 많이 일어남)
- 세마포어를 이용해 동기화 문제 해결 가능

### Message Queue

커널 공간에 메세지 큐를 만들어서 전송

- 커널 영역까지 내려가기 때문에 느림
- 누군가 써야지 읽을 수 있기 때문에 오버헤드가 큼
- 구현이 편하고 쉬움
- 동기화 문제 X

## Network Communication

동기화가 굉장히 중요함
프로세스간 통신을 할 때, (서로 다른 시스템)
서로 다른 IP에 서로 다른 Port를 사용해서 네트워크 상으로 통신하는 방식
