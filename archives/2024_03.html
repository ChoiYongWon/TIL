<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.20" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>2024. 03. | Today rtolzo Learned</title><meta name="description" content="Today rtolzo Learned">
    <link rel="preload" href="/assets/style-B5ED4_TN.css" as="style"><link rel="stylesheet" href="/assets/style-B5ED4_TN.css">
    <link rel="modulepreload" href="/assets/app-dbWqT-s3.js"><link rel="modulepreload" href="/assets/2024_03.html-hoRfbcSL.js">
    <link rel="prefetch" href="/assets/index.html-C1r8QX_y.js" as="script"><link rel="prefetch" href="/assets/2022_03.html-BU4Dm8ge.js" as="script"><link rel="prefetch" href="/assets/2023_02.html-DePcnOPW.js" as="script"><link rel="prefetch" href="/assets/2023_06.html-BCKxZ3EF.js" as="script"><link rel="prefetch" href="/assets/2023_10.html-m3FJMAKc.js" as="script"><link rel="prefetch" href="/assets/2023_11.html-BtlVCOOs.js" as="script"><link rel="prefetch" href="/assets/2024_04.html-Bdt97QYI.js" as="script"><link rel="prefetch" href="/assets/2024_05.html-BEq4CsmL.js" as="script"><link rel="prefetch" href="/assets/2024_06.html-RsFvrsBJ.js" as="script"><link rel="prefetch" href="/assets/2024_07.html-DWU8vHu0.js" as="script"><link rel="prefetch" href="/assets/2024_08.html-ESg9rOHZ.js" as="script"><link rel="prefetch" href="/assets/2024_09.html-Dqj5DemS.js" as="script"><link rel="prefetch" href="/assets/2024_10.html-BjvdA8E4.js" as="script"><link rel="prefetch" href="/assets/study_list.html-WHnTNZgW.js" as="script"><link rel="prefetch" href="/assets/index.html-D6fgVU2d.js" as="script"><link rel="prefetch" href="/assets/index.html-DA_oJJsr.js" as="script"><link rel="prefetch" href="/assets/index.html-CAX1pF81.js" as="script"><link rel="prefetch" href="/assets/index.html-Dzz-vEnW.js" as="script"><link rel="prefetch" href="/assets/index.html-C-6MJ9yO.js" as="script"><link rel="prefetch" href="/assets/index.html-DUtBR8C0.js" as="script"><link rel="prefetch" href="/assets/index.html-CYusB_Be.js" as="script"><link rel="prefetch" href="/assets/index.html-C1IXdiI-.js" as="script"><link rel="prefetch" href="/assets/index.html-CfDBTK-3.js" as="script"><link rel="prefetch" href="/assets/index.html-B4TXHuDp.js" as="script"><link rel="prefetch" href="/assets/economics.html-pcloSPS3.js" as="script"><link rel="prefetch" href="/assets/git.html-BQz0Wnve.js" as="script"><link rel="prefetch" href="/assets/typescript.html-BEJ-gGKF.js" as="script"><link rel="prefetch" href="/assets/404.html-BjrdJg5Y.js" as="script"><link rel="prefetch" href="/assets/index.html-1cyW1px5.js" as="script"><link rel="prefetch" href="/assets/index.html-Bl39hLTt.js" as="script"><link rel="prefetch" href="/assets/index.html-C8Uca1dK.js" as="script"><link rel="prefetch" href="/assets/index.html-MrQn16__.js" as="script"><link rel="prefetch" href="/assets/index.html-DL2R-j-c.js" as="script"><link rel="prefetch" href="/assets/giscus-BwIGYrs0.js" as="script"><link rel="prefetch" href="/assets/mermaid.esm.min-BK4kpRyN.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-QXEOFQJV-8XZF0E6P.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><!----><span class="vp-site-name" aria-hidden="true">Today rtolzo Learned</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/ChoiYongWon" aria-label="Github" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Github<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/tags/" aria-label="Tags"><!--[--><!--[--><!--]--><!--]-->Tags<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/ChoiYongWon" aria-label="Github" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Github<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/tags/" aria-label="Tags"><!--[--><!--[--><!--]--><!--]-->Tags<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/topics/" aria-label="Topics"><!--[--><!--[--><!--]--><!--]-->Topics<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/topics/typescript.html" aria-label="Typescript"><!--[--><!--[--><!--]--><!--]-->Typescript<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/topics/git.html" aria-label="Git"><!--[--><!--[--><!--]--><!--]-->Git<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="_2024-03" tabindex="-1"><a class="header-anchor" href="#_2024-03"><span>2024. 03.</span></a></h1><h2 id="_03-19" tabindex="-1"><a class="header-anchor" href="#_03-19"><span>03. 19.</span></a></h2><h3 id="next-auth-á„‹á…µá†«á„Œá…³á†¼-á„‹á…µá†«á„€á…¡-á„€á…©á„†á…µá†«" tabindex="-1"><a class="header-anchor" href="#next-auth-á„‹á…µá†«á„Œá…³á†¼-á„‹á…µá†«á„€á…¡-á„€á…©á„†á…µá†«"><span>next-auth ì¸ì¦/ì¸ê°€ ê³ ë¯¼</span></a></h3><p>ë¡œê·¸ì¸ ê³¼ì •ì—ì„œ (next-auth ì‚¬ìš©)<br> next-authì—ì„œ ì œê³µí•˜ëŠ” <code>session-token</code> ë§Œìœ¼ë¡œ ì¸ì¦/ì¸ê°€ë¥¼ ë‹´ë‹¹í•´ë„ ë ê¹Œ??<br> JWTë¥¼ ì•ˆì¨ë„ ë ê¹Œ?? ë¼ëŠ” ê³ ë¯¼ì¤‘</p><p><a href="https://geuni620.github.io/blog/2024/1/17/authorization/" target="_blank" rel="noopener noreferrer">next-authë¥¼ í™œìš©í•œ ì¸ì¦ ë° ì¸ê°€ ì´í•´í•˜ê¸°</a><br><a href="https://remaster.com/blog/next-auth-jwt-session" target="_blank" rel="noopener noreferrer">next-auth credential providerì—ì„œ jwt ì‚¬ìš©í•˜ê¸° (í•´ì™¸)</a><br><a href="https://github.com/nextauthjs/next-auth/discussions/2790" target="_blank" rel="noopener noreferrer">next-authì—ì„œ ì„¸ì…˜ ë° JWTì— ëŒ€í•œ ISSUE (í•´ì™¸)</a></p><p>í˜„ì¬ ê°œë°œí•˜ê³  ìˆëŠ” ì„œë¹„ìŠ¤ ìì²´ê°€ NextJS í’€ìŠ¤íƒìœ¼ë¡œ ê°œë°œì¤‘ì´ë‹¤.<br> ì¦‰, route handlerì—ì„œ ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì— ëŒ€í•œ ì„¸ì…˜ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. (ìš”ì²­í•œ ìœ ì €ì˜ ì‹ ì›ì„ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.)</p><p>ë§Œì•½ API ì„œë²„ê°€ ë”°ë¡œ ìˆë‹¤ê³  í•˜ë©´ JWTê°€ í•„ìš”í•  ìˆ˜ ìˆê² ë‹¤.</p><p><a href="https://next-auth.js.org/faq" target="_blank" rel="noopener noreferrer">next-auth FAQ: next-authì—ì„œ ì œê³µí•˜ëŠ” JWT(session-token)ì˜ ì¥ì ì€ ë­”ê°€ìš”</a></p><p>ìœ„ FAQì—,</p><p><code>NextAuth.jsì˜ JSON ì›¹ í† í°ì€ ì•”í˜¸í™” ì•”í˜¸í™”(JWE)ë¥¼ ì‚¬ìš©í•˜ì—¬ í¬í•¨ëœ ì •ë³´ë¥¼ JWT ì„¸ì…˜ í† í°ì— ì§ì ‘ ì €ì¥í•˜ì—¬ ë³´ì•ˆì„ ìœ ì§€í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ì´ í† í°ì„ ì‚¬ìš©í•˜ì—¬ í¬í•¨ëœ ì •ë³´ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ ë°ì´í„°ë² ì´ìŠ¤ì— ì—°ê²°í•  í•„ìš” ì—†ì´ ë™ì¼í•œ ë„ë©”ì¸ì˜ ì„œë¹„ìŠ¤ ë° API ê°„ì— ì •ë³´ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</code></p><p>ë˜í•œ,</p><p><code>JWTëŠ” ì„œë²„ ì½ê¸° ì „ìš© ì¿ í‚¤ì— ì €ì¥ë˜ë¯€ë¡œ ì‚¬ì´íŠ¸ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ íƒ€ì‚¬ JavaScriptê°€ JWTì˜ ë°ì´í„°ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì•”í˜¸í™” ì—†ì´ë„ í´ë¼ì´ì–¸íŠ¸ê°€ ì•Œì•„ë„ ìƒê´€ì—†ëŠ” ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ ì €ì¥í•˜ëŠ” ë° JWTë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</code></p><p>ë¬¸í•­ì„ ì½ì–´ë³´ì•˜ì„ ë•Œ, Session-tokenë§Œìœ¼ë¡œ ì¸ì¦/ì¸ê°€ë¥¼ ë‹´ë‹¹í•´ë„ ë ê²ƒê°™ì€ ëŠë‚Œì„ ë°›ì•˜ë‹¤.</p><p>ê·¸ëŸ¼ Session Expire ì‹œê°„ì„ ëŠ˜ë ¤ì•¼ë˜ë‚˜..??<br> ì¼ë‹¨ Session Tokenë§Œ ì‚¬ìš©í•´ë³´ì.</p><h2 id="_03-23" tabindex="-1"><a class="header-anchor" href="#_03-23"><span>03. 23.</span></a></h2><h3 id="next-auth-á„á…³á†¯á„…á…¡á„‹á…µá„‹á…¥á†«á„á…³-á„‰á…¦á„‰á…§á†«-á„‰á…®á„Œá…¥á†¼-á„€á…¡á„‚á…³á†¼" tabindex="-1"><a class="header-anchor" href="#next-auth-á„á…³á†¯á„…á…¡á„‹á…µá„‹á…¥á†«á„á…³-á„‰á…¦á„‰á…§á†«-á„‰á…®á„Œá…¥á†¼-á„€á…¡á„‚á…³á†¼"><span>next-auth í´ë¼ì´ì–¸íŠ¸ ì„¸ì…˜ ìˆ˜ì • ê°€ëŠ¥</span></a></h3><p>í´ë¼ì´ì–¸íŠ¸ì—ì„œ useSession, auth ì„¸ì…˜ ë°”ê¿€ ìˆ˜ìˆìŒ<br><a href="https://next-auth.js.org/getting-started/client#updating-the-session" target="_blank" rel="noopener noreferrer">next-auth ê³µì‹ ë¬¸ì„œ #updating-the-session</a></p><p>ì•¼ í˜¸</p><h3 id="prismaclientá„…á…³á†¯-edge-á„’á…ªá†«á„€á…§á†¼á„‹á…¦á„‰á…¥-á„‰á…µá†¯á„’á…¢á†¼" tabindex="-1"><a class="header-anchor" href="#prismaclientá„…á…³á†¯-edge-á„’á…ªá†«á„€á…§á†¼á„‹á…¦á„‰á…¥-á„‰á…µá†¯á„’á…¢á†¼"><span>prismaClientë¥¼ edge í™˜ê²½ì—ì„œ ì‹¤í–‰</span></a></h3><p>middlewareì—ì„œ prismaClientë¥¼ ì‚¬ìš©í•  ì¼ì´ ìƒê²¼ë‹¤.<br><a href="https://vercel.com/docs/functions/edge-middleware" target="_blank" rel="noopener noreferrer">middlewareì€ vercel edge í™˜ê²½ì—ì„œ ì‹¤í–‰</a>ë˜ëŠ”ë°, prismaClientë¥¼ edge í™˜ê²½ì—ì„œ ì‹¤í–‰í•˜ë ¤ë©´ Accelerateë¥¼ ì‚¬ìš©í•´ì•¼ëœë‹¤.</p><p>AccelerateëŠ” Edgeí™˜ê²½ì˜ DB ìºì‹±ì„œë¹„ìŠ¤. <a href="https://www.prisma.io/docs/accelerate/getting-started" target="_blank" rel="noopener noreferrer">ì°¸ê³ </a><br> Accelerate ì„œë¹„ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ê¸°ì¡´ DB URLì„ ì—°ê²°í•˜ë©´ ë§¤í•‘ëœ ìƒˆë¡œìš´ URLì„ ë°˜í™˜í•´ì¤€ë‹¤.</p><p>í•´ë‹¹ URLì— ìš”ì²­í•˜ë©´ Accelerateì—ì„œ ê¸°ì¡´ ìš°ë¦¬ì˜ DBì— ìš”ì²­ì„ í•˜ê³  ê²°ê³¼ê°’ì„ ì‘ë‹µí•´ì¤€ë‹¤.<br> í•´ë‹¹ ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µì€ ìºì‹±ëœë‹¤.</p><p>ê¸°ì¡´ DBë„ ìºì‹±ê¸°ëŠ¥ì´ ìˆì„í…ë° Accelerateë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ”??<br> ì•„ë§ˆ Edgeí™˜ê²½ì— ë°°í¬ë˜ì–´ìˆê¸°ì— ì‘ë‹µê³¼ ì²˜ë¦¬ì†ë„(Accelerate êµ¬ì¡°ìƒ)ê°€ ë¹¨ë¼ì„œ Edge í™˜ê²½ì—ì„œ ì“°ê¸° ì í•©í•˜ì§€ ì•Šì„ê¹Œ?<br> ê¸°ì¡´ prismaClientì„ edgeí™˜ê²½(ë¦¬ì†ŒìŠ¤ê°€ ì œí•œëœ í™˜ê²½)ì—ì„œ ì‹¤í–‰ì‹œí‚¤ê¸°ì—ëŠ” ëŠë¦¬ê¸°ì— ë‚´ì¥ë˜ì–´ìˆëŠ” prisma/edgeì—ì„œ prismaClientë¥¼ ì‚¬ìš©í•´ì•¼í•œë‹¤.</p><h2 id="_03-24" tabindex="-1"><a class="header-anchor" href="#_03-24"><span>03. 24.</span></a></h2><h3 id="clientcomponentá„‹á…ª-servercomponentá„‹á…´-á„ƒá…©á†¼á„Œá…¡á†¨-á„‡á…¡á†¼á„‰á…µá†¨-feat-á„‡á…¥á†«á„ƒá…³á†¯-á„á…¬á„Œá…¥á†¨á„’á…ª-1" tabindex="-1"><a class="header-anchor" href="#clientcomponentá„‹á…ª-servercomponentá„‹á…´-á„ƒá…©á†¼á„Œá…¡á†¨-á„‡á…¡á†¼á„‰á…µá†¨-feat-á„‡á…¥á†«á„ƒá…³á†¯-á„á…¬á„Œá…¥á†¨á„’á…ª-1"><span>ClientComponentì™€ ServerComponentì˜ ë™ì‘ ë°©ì‹ feat. ë²ˆë“¤ ìµœì í™” #1</span></a></h3><p>ë²ˆë“¤ ìµœì í™” ê³¼ì •ì—ì„œ, ClientComponenetì™€ ServerComponentì´ ë²ˆë“¤ í¬ê¸°ì— ì–´ë–»ê²Œ ì˜í–¥ì„ ì£¼ëŠ”ì§€ ì•Œê³  ì‹¶ì—ˆë‹¤.</p><p>NextJSì—ì„œ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ì§ë ¬í™” í•  ë•Œ ClientComponentëŠ” ì§ë ¬í™”ê°€ ì•ˆë˜ë¯€ë¡œ ìì²´ ì°¸ì¡°ê°’(./ClientComponent.js)ìœ¼ë¡œ ë³€í™˜ì‹œí‚¨ë‹¤.</p><p>ì´ ë•Œ, íŠ¸ë¦¬ êµ¬ì¡°ë¡œ ì»´í¬ë„ŒíŠ¸ë“¤ì´ êµ¬ì„±ë˜ì–´ìˆëŠ”ë° ê°€ì¥ ìµœìƒë‹¨ì˜ ì»´í¬ë„ŒíŠ¸ê°€ ClientComponentë¡œ êµ¬ì„±ë˜ì–´ìˆìœ¼ë©´<br> ìš°ë¦¬ê°€ ë¸Œë¼ìš°ì €ì— ì²˜ìŒ ì ‘ì†í–ˆì„ ë•Œ ìµœìƒë‹¨ ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•œ ì°¸ì¡°ê°’ë§Œ ì „ë‹¬ë°›ëŠ”ê±° ì•„ë‹Œê°€??</p><p>ë¼ëŠ” ì˜ë¬¸ë„ ë“¤ì—ˆë‹¤.</p><p>ì§ì ‘ í…ŒìŠ¤íŠ¸ í•´ë³´ì•˜ì„ ë–„,</p><p>NextJSì—ì„œëŠ” ì§ë ¬í™” ë‹¨ê³„ì—ì„œ ClientComponentì˜ ì§ë ¬í™” ê°€ëŠ¥í•œ ë¶€ë¶„(ì˜ˆë¥¼ ë“¤ì–´, <code>ì‹œë§¨í‹± íƒœê·¸</code>, <code>í…ìŠ¤íŠ¸</code>, <code>ìŠ¤íƒ€ì¼</code>)ì€ ì§ë ¬í™” í•˜ê³  ë‚˜ë¨¸ì§€ <code>onClick í•¨ìˆ˜</code>ë“± ì§ë ¬í™” ë˜ì§€ ì•ŠëŠ” ë¶€ë¶„ì€ ì°¸ì¡°ê°’ìœ¼ë¡œ ë³€í™˜ì‹œì¼œ í´ë¼ì´ì–¸íŠ¸ ìª½ì—ì„œ Hydration í•˜ëŠ”ë“¯í•˜ë‹¤.</p><p>ì¢‹ì€ê¸€<br><a href="https://velog.io/@2ast/React-%EC%84%9C%EB%B2%84-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8React-Server-Component%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B3%A0%EC%B0%B0" target="_blank" rel="noopener noreferrer">Next) ì„œë²„ ì»´í¬ë„ŒíŠ¸(React Server Component)ì— ëŒ€í•œ ê³ ì°°</a></p><p>&#39;use client&#39; ì¦‰, ClientComponentê°€ ì½”ë“œìŠ¤í”Œë¦¬íŒ…ì˜ ë¶„ê¸°ì ì´ ëœë‹¤ê³  í•œë‹¤.<br> ServerComponentì™€ ClientComponent ë‘˜ë‹¤ ì„œë²„ì—ì„œ ë Œë”ë§ë˜ëŠ”ê±´ ë§ˆì°¬ê°€ì§„ë°, &#39;use client&#39;ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ê°€ ë‹¨ìˆœ ì„œë²„ì—ì„œ ë Œë”ë§í•  ë•Œ <code>ì´ ì»´í¬ë„ŒíŠ¸ëŠ” Hydrationì´ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ì•¼</code>ë¼ê³  ì•Œë ¤ì£¼ëŠ”ê²ƒ ë¹¼ê³ ëŠ” ë‹¤ë¥¸ ì—­í• ì´ ìˆëŠ”ì§€ ê¶ê¸ˆí•˜ë‹¤.</p><h2 id="_03-25" tabindex="-1"><a class="header-anchor" href="#_03-25"><span>03. 25.</span></a></h2><h3 id="clientcomponentá„‹á…ª-servercomponentá„‹á…´-á„ƒá…©á†¼á„Œá…¡á†¨-á„‡á…¡á†¼á„‰á…µá†¨-feat-á„‡á…¥á†«á„ƒá…³á†¯-á„á…¬á„Œá…¥á†¨á„’á…ª-2" tabindex="-1"><a class="header-anchor" href="#clientcomponentá„‹á…ª-servercomponentá„‹á…´-á„ƒá…©á†¼á„Œá…¡á†¨-á„‡á…¡á†¼á„‰á…µá†¨-feat-á„‡á…¥á†«á„ƒá…³á†¯-á„á…¬á„Œá…¥á†¨á„’á…ª-2"><span>ClientComponentì™€ ServerComponentì˜ ë™ì‘ ë°©ì‹ feat. ë²ˆë“¤ ìµœì í™” #2</span></a></h3><p>ì–´ì œ í–ˆë˜ ì‚½ì§ˆì— ì´ì–´ì„œ</p><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// app/layout.tsx</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">createContext</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &quot;react&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//  createContext is not supported in Server Components</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> const</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;"> ThemeContext</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;"> createContext</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">({});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;"> RootLayout</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#E06C75;--shiki-light-font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">children</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">html</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">body</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">        &lt;</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">ThemeContext</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">Provider</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;"> value</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;dark&quot;</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">children</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&lt;/</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">ThemeContext</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">Provider</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">      &lt;/</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">body</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">    &lt;/</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">html</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">  );</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ThemeContextëŠ” ServerComponentì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ê¸°ì— ì•„ë˜ì™€ ê°™ì´ theme-providerë¼ëŠ” ClientComponentë¥¼ ë§Œë“¤ê³  children propsë¡œ ë„˜ê²¨ì¤€ë‹¤.</p><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// app/theme-provider.tsx</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;use client&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">createContext</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &quot;react&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> const</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;"> ThemeContext</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;"> createContext</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">({});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;"> ThemeProvider</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-light-font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">  children</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">}: {</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">  children</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">React</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">ReactNode</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">}) {</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">ThemeContext</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">Provider</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;"> value</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;dark&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;{</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">children</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&lt;/</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">ThemeContext</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">Provider</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ë‹¤ì‹œ ëŒì•„ì™€ì„œ app/layout.tsxì—ì„œ ì•„ë˜ì™€ ê°™ì´ Rootë¥¼ ServerComponentë¡œ ìœ ì§€í•  ìˆ˜ ìˆë‹¤</p><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// app/layout.tsx</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;"> ThemeProvider</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &quot;./theme-provider&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;"> RootLayout</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-light-font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">  children</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">}: {</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">  children</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">React</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">ReactNode</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">}) {</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">html</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">body</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">ThemeProvider</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;{</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">children</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&lt;/</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">ThemeProvider</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">      &lt;/</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">body</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">    &lt;/</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">html</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">  );</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>You should render providers as deep as possible in the tree â€“ notice how ThemeProvider only wraps <code>{children}</code> instead of the entire <code>&lt;html&gt;</code> document. This makes it easier for Next.js to optimize the static parts of your Server Components.</p></blockquote><p>ì¶œì²˜ : <a href="https://nextjs.org/docs/app/building-your-application/rendering/composition-patterns#using-context-providers" target="_blank" rel="noopener noreferrer">NextJS ê³µì‹ë¬¸ì„œ rendering/composition-patterns</a></p><p>ëŒ€ì¶© Providerë¥¼ ë”°ë¡œ Client Componentë¡œ ë§Œë“¤ì–´ì„œ {children} propsë¡œ ë„˜ê¸°ë©´ ê·¸ ë‚´ë¶€ì˜ ì»´í¬ë„ŒíŠ¸ëŠ” ServerComponentë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ë‚´ìš©ì´ë‹¤.<br> ì´ë ‡ê²Œ í•˜ë©´ ì¶”ê°€ì ìœ¼ë¡œ Client Javascript Bundle Sizeë„ ì¤„ì¼ ìˆ˜ ìˆë‹¤ê³  í•œë‹¤.</p><h4 id="á„á…®á„€á…¡-á„‰á…¡á†¸á„Œá…µá†¯" tabindex="-1"><a class="header-anchor" href="#á„á…®á„€á…¡-á„‰á…¡á†¸á„Œá…µá†¯"><span>ì¶”ê°€ ì‚½ì§ˆ</span></a></h4><blockquote><p>ì—¬ëŸ¬ê°œì˜ &#39;use client&#39; ì§€ì‹œì–´ë¥¼ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ê°œì˜ client ë²ˆë“¤ë¡œ ë‚˜ë‰˜ì–´ì§„ë‹¤.<br> &#39;use client&#39; ì§€ì‹œì–´ë¥¼ ì‚¬ìš©í•˜ë©´ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë‚´ì— ìˆëŠ” ëª¨ë“  ëª¨ë“ˆê³¼(import) ChildComponentë“¤ì´ client ë²ˆë“¤ì— ì¶”ê°€ë˜ëŠ”ê±¸ë¡œ ê°„ì£¼ëœë‹¤.</p></blockquote><p>ì¶œì²˜ : <a href="https://stackoverflow.com/questions/77015023/if-i-pass-a-server-component-to-a-client-component-via-the-children-prop-will-i" target="_blank" rel="noopener noreferrer">If I pass a server component to a client component via the children prop, will it be rendered on the client?</a></p><blockquote><p>ì„œë²„ ì»´í¬ë„ŒíŠ¸ëŠ” ë Œë”ë§ ê³¼ì •ì—ì„œ ì§ë ¬í™”ëœ ê²°ê³¼ê°€ inline scriptë¡œ ì‚½ì…ëœë‹¤ëŠ” ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ìˆì—ˆë‹¤.</p></blockquote><p>ì¶œì²˜ : <a href="https://yozm.wishket.com/magazine/detail/2271/" target="_blank" rel="noopener noreferrer">ìƒˆë¡œ ë“±ì¥í•œ React ServerComponent ì´í•´í•˜ê¸°</a></p><blockquote><p>ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²½ìš°, í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì— propsë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ê³  ì‹¶ì„ ìˆ˜ ìˆëŠ”ë°, ServerComponentì—ì„œ ClientComponentë¡œ ì „ë‹¬ë˜ëŠ” propsëŠ” Reactì—ì„œ ì§ë ¬í™”í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.<br> ì´ê±´ ë‚´ ìƒê° ğŸ‘‰ (ì„œë²„ ë Œë”ë§ì„ ìœ„í•´ì„œëŠ” ì§ë ¬í™”ë¥¼ í•´ì•¼ë˜ê¸° ë•Œë¬¸ì— ë§Œì•½ ServerComponentì—ì„œ ClientComponentë¡œ ì „ë‹¬ë˜ëŠ” propsê°€ ì§ë ¬í™”ê°€ ì•ˆë  ê²½ìš°ì—ëŠ” í•´ë‹¹ ServerComponentë„ ì§ë ¬í™”ê°€ ì•ˆë˜ê¸° ë•Œë¬¸ìœ¼ë¡œ ì˜ˆìƒ. ì§ë ¬í™”ê°€ ì•ˆë˜ë©´ ì•„ì˜ˆ js ë²ˆë“¤ë¡œ ë¹¼ê³  ì°¸ì¡°ê°’ë§Œ ë‚¨ê²¨ì•¼í•œë‹¤.)</p></blockquote><p>ì¶œì²˜ : <a href="https://rocketengine.tistory.com/entry/NextJS-13-Getting-Started-React-Essentials#%EC%84%9C%EB%B2%84%EC%97%90%EC%84%9C%20%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8%20%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EB%A1%9C%20props%20%EC%A0%84%EB%8B%AC(serializable)-1" target="_blank" rel="noopener noreferrer">rocketengine í‹°ìŠ¤í† ë¦¬ Getting Started - React Essentials</a></p><blockquote><p>&#39;use client&#39; ì§€ì‹œì–´ëŠ” ëª¨ë“ˆ ë‹¨ìœ„ë¡œ ë™ì‘í•˜ë©°, ClientComponentì—ì„œ import ë˜ëŠ” ComponentëŠ” ëª¨ë‘ ClientComponent ì´ë‹¤. ServerComponentì™€ ClientComponentì˜ ì°¨ì´ëŠ” ê²°êµ­ ì§ë ¬í™” ì—¬ë¶€ì´ë‹¤. ServerComponentì˜ ê²½ìš° ì¸ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸ë¡œ ì»´í¬ë„ŒíŠ¸ ì •ë³´ê°€ ì œê³µë˜ì–´ ì¶”ê°€ì ì¸ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì´ í•„ìš” ì—†ì§€ë§Œ, ClientComponentì˜ ê²½ìš° ì´ˆê¸° ë Œë”ë§ ì´í›„ ì»´í¬ë„ŒíŠ¸ì˜ ì •ë³´ë¥¼ ì¶”ê°€ì ìœ¼ë¡œ ìš”ì²­í•˜ë©° Hydate ì‹œí‚¤ëŠ” ê³¼ì •ì´ í•„ìš”í•˜ë‹¤.</p></blockquote><p>ì¶œì²˜ : <a href="https://www.joshwcomeau.com/react/server-components/#compatible-environments-4" target="_blank" rel="noopener noreferrer">Making Sense of React Server Components</a></p><h4 id="á„Œá…¥á†¼á„…á…µ" tabindex="-1"><a class="header-anchor" href="#á„Œá…¥á†¼á„…á…µ"><span>ì •ë¦¬</span></a></h4><p>ìš°ë¦¬ê°€ ì‚¬ì´íŠ¸ì— ë°©ë¬¸í•˜ë©´ ì„œë²„ì™€ ë¸Œë¼ìš°ì €ì—ì„  ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ì„ ê±°ì¹œë‹¤.</p><ol><li>[Server] RootComponentë¶€í„° ìˆœíšŒë¥¼ í•˜ë©´ì„œ ServerComponentë¥¼ ë‹¤ ë Œë”ë§í•˜ê³  ì§ë ¬í™” í•œë‹¤.</li><li>[Server] ClientComponentëŠ” js ë²ˆë“¤ì— í¬í•¨ì‹œí‚¨ë‹¤.<br><code>ì´ ë•Œ, use clientë¡œ ëª…ì‹œëœ ClientComponentë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì„ ì–¸ëœ ëª¨ë“  importë‚˜ ChildComponentëŠ” js ë²ˆë“¤ì— í¬í•¨ëœë‹¤. childrenìœ¼ë¡œ ë„˜ê²¨ì§„ ë°ì´í„°ëŠ” ì‹¤ì œë¡œ ServerComponentì—ì„œ importëœ Componentì´ê¸° ë•Œë¬¸ì— ServerComponentë¡œ ê°„ì£¼ëœë‹¤.</code></li><li>[Server] ServerComponentë¥¼ ì§ë ¬í™”í•œ ê²°ê³¼ë¥¼ inline scriptì— í¬í•¨ì‹œí‚¨ htmlì„ ë¸Œë¼ìš°ì €ì— ì‘ë‹µí•œë‹¤.</li><li>[Browser] ì´ë¯¸ ë Œë”ë§ ëœ ServerComponentì— ëŒ€í•œ ë Œë”íŠ¸ë¦¬ ì •ë³´ëŠ” js ë²ˆë“¤ì— í¬í•¨ë˜ì–´ìˆì§€ ì•Šìœ¼ë¯€ë¡œ inline scriptì— í¬í•¨ë˜ì–´ìˆëŠ” ServerComponentë¥¼ ì§ë ¬í™”í•œ ê²°ê³¼ë¥¼ í•´ì„í•˜ì—¬ ê°€ìƒë”ì— í¬í•¨ì‹œí‚¨ë‹¤.</li><li>[Browser] ì´í›„ ClientComponentëŠ” ë Œë”íŠ¸ë¦¬ ì •ë³´ê°€ ë‹´ê¸´ js ë²ˆë“¤ì„ ë‹¤ì‹œ ì„œë²„ì— ìš”ì²­í•˜ì—¬ Hydrate ê³¼ì •ì„ ìˆ˜í–‰í•œë‹¤.</li></ol><p>ì¦‰, ì˜ë¬¸ì ì— ëŒ€í•œ ëŒ€ë‹µì€<br> ìµœìƒë‹¨ ì»´í¬ë„ŒíŠ¸ê°€ Client Componentì¼ ê²½ìš° ì´ˆê¸° ë Œë”ë§ ì´í›„ ì „ì²´ ë Œë”íŠ¸ë¦¬ ì •ë³´ê°€ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ì„œ ì „ë‹¬ëœë‹¤.</p><h4 id="á„€á…§á†¯á„…á…©á†«" tabindex="-1"><a class="header-anchor" href="#á„€á…§á†¯á„…á…©á†«"><span>ê²°ë¡ </span></a></h4><p>ê°€ì¥ ì¸ìƒê¹Šì—ˆê³  ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ë¶€ë¶„ì€</p><ul><li><p>ServerComponentë¥¼ ì§ë ¬í™”í•œ ê²°ê³¼ë¥¼ ì²« htmlì— í¬í•¨ì‹œì¼œ ì¤€ë‹¤ëŠ”ê²ƒ.</p></li><li><p>&#39;use client&#39; ì§€ì‹œì–´ëŠ” íŒŒì¼ì´ë‚˜ ëª¨ë“ˆ ë ˆë²¨ì—ì„œ ì‘ë™í•œë‹¤ëŠ”ê²ƒ,</p><ul><li>ì¦‰, &#39;use client&#39; ì§€ì‹œì–´ê°€ ì„ ì–¸ëœ ì»´í¬ë„ŒíŠ¸ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ëª¨ë“  importë‚˜ ChildComponentëŠ” ëª¨ë‘ ClientComponentì´ê³  client bundleì— í¬í•¨ëœë‹¤ëŠ”ê²ƒì´ë‹¤. í•˜ì§€ë§Œ props (íŠ¹íˆ children)ë¡œ ë„˜ê²¨ì§„ ë°ì´í„°ëŠ” Serverì—ì„œ ë Œë”ë§í•  ìˆ˜ ìˆë‹¤. (ServerComponentì—ì„œ children propsë¡œ ì „ë‹¬ëœ ì»´í¬ë„ŒíŠ¸ëŠ” ì„œë²„ì— ì˜í•´ ê³ ì •ëœ ì •ì ì¸ ë°ì´í„°ì´ê¸° ë•Œë¬¸.)</li></ul></li><li><p>ClientComponentì™€ ServerComponentì˜ ì°¨ì´ëŠ” ë Œë”íŠ¸ë¦¬ ì •ë³´ë¥¼ ì¸ë¼ì¸ìœ¼ë¡œ ì£¼ì…í•´ì£¼ëƒ ì¶”ê°€ì ì¸ ë„¤íŠ¸ì›Œí¬ë¡œ ì£¼ì…í•´ì£¼ëƒì˜ ì°¨ì´ì¸ê²ƒ ê°™ë‹¤. ì¦‰, ì ì ˆíˆ í™œìš©í•˜ëŠ”ê²Œ ë§ëŠ” ë°©ë²•ì¸ê²ƒ ê°™ë‹¤.</p></li></ul><p>ê°œì¸ì ìœ¼ë¡œ í˜ë“  ì‚½ì§ˆì´ì—ˆë‹¤.<br> í•˜ì§€ë§Œ ì•„ì§ ì™„ë²½íˆ ì´í•´í•œ ëŠë‚Œì€ ì•„ë‹ˆë‹¤. ë‚˜ë¨¸ì§€ ê°œë…ì€ ì‚¬ìš©í•˜ë©´ì„œ ë°°ì›Œì•¼ê² ë‹¤.</p><h4 id="á„á…¡á†·á„€á…©á„’á…¡á„†á…§á†«-á„Œá…©á‡‚á„‹á…³á†¯á„ƒá…³á†ºá„’á…¡á†«-á„Œá…¥á†¼á„‡á…©" tabindex="-1"><a class="header-anchor" href="#á„á…¡á†·á„€á…©á„’á…¡á„†á…§á†«-á„Œá…©á‡‚á„‹á…³á†¯á„ƒá…³á†ºá„’á…¡á†«-á„Œá…¥á†¼á„‡á…©"><span>ì°¸ê³ í•˜ë©´ ì¢‹ì„ë“¯í•œ ì •ë³´</span></a></h4><p><a href="https://nextjs-app-router-training.vercel.app/" target="_blank" rel="noopener noreferrer">NextJS App router ì‹œë®¬ ì‚¬ì´íŠ¸</a><br><a href="https://hrtyy.dev/web/rsc_payload/" target="_blank" rel="noopener noreferrer">RSC Payloadì— ëŒ€í•´ì„œ (í•´ì™¸)</a><br><a href="https://www.plasmic.app/blog/how-react-server-components-work" target="_blank" rel="noopener noreferrer">How React server components work: an in-depth guide</a></p></div><!--[--><!--[--><div class="tag-list"><!--[--><!--]--></div><!--]--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">ë§ˆì§€ë§‰ ìˆ˜ì •ì¼: </span><!----></div><!----></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-dbWqT-s3.js" defer></script>
  </body>
</html>
